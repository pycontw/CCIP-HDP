{"version":3,"sources":["webpack:///./src/views/Fill.vue?3cbe","webpack:///./src/views/Fill.vue","webpack:///./src/views/Fill.vue?7a97","webpack:///./src/views/Fill.vue?2e03"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","field","key","type","directives","name","rawName","value","fieldData","expression","attrs","pattern","domProps","Array","isArray","_i","on","$event","$$a","$$el","target","$$c","checked","$$v","$$i","$set","concat","slice","_q","composing","_v","_s","label","zh","en","required","_e","checkData","staticRenderFns","mounted","fields","forEach","Error","relavant","result","window","confirm","Object","keys","map","join","setData","$router","push","error","alert","message","namespace","Fill","component"],"mappings":"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","file":"js/fill.6327b07c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"fill fill-container\"},[_vm._l((_vm.fields),function(field){return _c('div',{key:field.type,staticClass:\"fill\"},[((field.type)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fieldData[field.name]),expression:\"fieldData[field.name]\"}],staticClass:\"fill fill-inputbox\",attrs:{\"name\":field.name,\"pattern\":field.pattern,\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.fieldData[field.name])?_vm._i(_vm.fieldData[field.name],null)>-1:(_vm.fieldData[field.name])},on:{\"change\":function($event){var $$a=_vm.fieldData[field.name],$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.fieldData, field.name, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.fieldData, field.name, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.fieldData, field.name, $$c)}}}}):((field.type)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fieldData[field.name]),expression:\"fieldData[field.name]\"}],staticClass:\"fill fill-inputbox\",attrs:{\"name\":field.name,\"pattern\":field.pattern,\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.fieldData[field.name],null)},on:{\"change\":function($event){return _vm.$set(_vm.fieldData, field.name, null)}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.fieldData[field.name]),expression:\"fieldData[field.name]\"}],staticClass:\"fill fill-inputbox\",attrs:{\"name\":field.name,\"pattern\":field.pattern,\"type\":field.type},domProps:{\"value\":(_vm.fieldData[field.name])},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.fieldData, field.name, $event.target.value)}}}),_c('label',{staticClass:\"fill fill-label\",attrs:{\"for\":field.name}},[_c('span',[_vm._v(_vm._s(field.label.zh)+\"｜\"+_vm._s(field.label.en))]),(\n          typeof field.required === 'object' &&\n            field.required.type === 'AtLeaseOne'\n        )?_c('span',[_vm._v(\"擇一填寫｜At least one\")]):(typeof field.required === 'boolean' && field.required)?_c('span',[_vm._v(\"必填｜Required\")]):_vm._e()])])}),_c('div',{staticClass:\"button\",on:{\"click\":function($event){return _vm.checkData()}}},[_c('span',[_vm._v(\"下一步｜Next\")]),_c('font-awesome-icon',{attrs:{\"icon\":['fas', 'arrow-right']}})],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { Action, Getter } from \"vuex-class\";\n\nimport { FormState } from \"@/store/types/form.type\";\n\n@Component\nexport default class Fill extends Vue {\n  @Action(\"setData\", { namespace: \"form\" })\n  private setData!: (data: FormState[\"data\"]) => void;\n\n  @Getter(\"field\", { namespace: \"form\" })\n  private fields!: FormState[\"field\"];\n\n  private fieldData: { [key: string]: string } = {};\n\n  private mounted(): void {\n    this.fields.forEach(field => {\n      this.fieldData[field.name] = \"\";\n    });\n  }\n\n  private checkData(): void {\n    try {\n      this.fields.forEach(field => {\n        if (typeof field.required === \"boolean\" && field.required) {\n          if (!this.fieldData[field.name]) {\n            throw new Error(\n              \"必填欄位不可為空！\\nThe required field can't be empty！\"\n            );\n          }\n        } else if (\n          typeof field.required === \"object\" &&\n          field.required.type === \"AtLeaseOne\"\n        ) {\n          if (\n            !this.fieldData[field.required.relavant] &&\n            !this.fieldData[field.name]\n          ) {\n            throw new Error(\"請擇一填寫！\\nAt least one fill should be fill!\");\n          }\n        }\n      });\n\n      const result = window.confirm(\n        \"再次確定聯絡資訊無誤。\\nMake sure again that contact information is correct.\\n\\n\" +\n          Object.keys(this.fieldData)\n            .map(key => `${key}: ${this.fieldData[key]}`)\n            .join(\"\\n\")\n      );\n\n      if (result) {\n        this.setData(this.fieldData);\n        this.$router.push({ name: \"Declaration\" });\n      }\n    } catch (error) {\n      window.alert(error.message);\n    }\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fill.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Fill.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Fill.vue?vue&type=template&id=10bb6fed&\"\nimport script from \"./Fill.vue?vue&type=script&lang=ts&\"\nexport * from \"./Fill.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}